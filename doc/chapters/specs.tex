\chapter{Specifications}\label{ch:specs}

The application developed for this workgroup task is a tool for
\standout{automated backtesting\footnote{\standout{NOTE:} this document makes
use of a very domain-specific terminology. Whenever in doubt about the meaning
of a word, try to check \appendixref{appendix:glossary}.} of financial trading
strategies}.

The application allows the user to define a strategy and to test it with the
historical price action data of various markets. The user can then visualize
statistics on the performance of the strategy.

The \standout{User}, when logged-in, can write a new trading strategy. The
strategy algorithm will execute for every \emph{trading day}\footnote{A
\emph{trading day} (or \emph{candle}) is a time span for which the price action,
during that time span, is aggregated into five values: highest, lowest, opening
(the price at the start of the day) and closing (the price at the end of the
day) prices, and the volume (amount of asset traded). See
\appendixref{appendix:glossary} for more details.}, having as input the highest,
lowest, opening and closing price for that day, and it must respond each time
with a buy/sell/do-nothing decision\footnote{More specifically, the strategy can
open multiple trades with different amounts and then close it at some time in
the future. A trade can be a long (buy) trade or a short (sell) trade. The
close operation consist of making the inverse of the opening operation with the
same amount.}. Then, through the application, the user selects a market, the
time interval of the trading day and others configurable parameters for the
selected strategy. After that, the application will apply the defined strategy
to all the historical data available for that market. At the end, the
application shows a report with the following informations:
\begin{itemize}
	\item The total amount at the end of the execution;
	\item The net profit or loss;
	\item The gross profit \idest{the sum of the profits from all winning
		trades} and the gross loss;
	\item The Buy and Hold return (for comparison purpose);
	\item The total number of trades concluded by the strategy;
	\item The remaining open trades at the end of execution;
	\item The percent of winning (profitable) and losing trades;
	\item The maximum number of consecutive losing trades;
	\item The average amount of money involved in trades;
	\item The average duration of a trade (in terms of trading days);
	\item The maximum drawdown \idest{the maximum observed loss from a peak
		to a trough in the total invested amount during the execution of
		a strategy};
	\item The execution time, divided in the time needed to execute the
		aggregation defined in~\secref{subsec:marketdata-aggregations}
		and the time needed by the strategy to process all the candles.
\end{itemize}

For the development of strategies, the application provides a library for easily
compute common statistics over market data \exgratia{moving averages, standard
deviations, common indicators like the Relative Strength Index, Moving Average
Convergence/Divergence, Bollinger Bands margins, \etc}. Those indicators are
defined in~\secref{subsec:marketdata-aggregations}.

Once the strategy has been developed and tested it will be available to other
users. All users will be able to visualize the reports of previous executions of
the strategy (also reports generated by other users) so that they can evaluate
its performance and improve it.

The \standout{Administrator} can:
\begin{itemize}
	\item Add/remove users;
	\item Enable/disable data sources;
	\item Delete old or no-more-relevant data;
	\item Change various parameters for each data source \exgratia{data
		granularity, selectable markets, \etc};
	\item Regenerate the data, re-downloading it from configured data
		sources;
	\item Enable/disable the synchronization of the data for each market
		with the source;
	\item Enable/disable markets for selection by users.
\end{itemize}

There's only one administrator. The administrator is created when the server
application is run for the first time (additional administrators may be added
manually to the database, but the application will not support a use case for
the creation of an administrator, except for the first run).

While the above specifications may be applied to any type of market, the
application will target only \standout{cryptocurrency markets} since they are
the easiest markets out there (always open markets; only buy/sell operations;
asset value depends only on price action).
